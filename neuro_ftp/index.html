<!doctype html>
<html lang="en" data-theme="auto">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>neuros.click - FTP Setup</title>
</head>

<body>
    <div class="wrap">
        <header>
            <div class="brand">
                <div class="logo" aria-hidden="true"></div>
                <h1 id="page-title">neuros.click</h1>
            </div>
            <div class="toolbar">
                <button id="theme-btn" class="btn" title="Toggle theme">Toggle theme</button>
                <a class="btn primary" href="#" id="primary-cta" hidden></a>
            </div>
        </header>

        <p id="page-desc" class="lede">FTP client setup for Neuro content</p>

        <nav class="breadcrumb">
            <a href="../" class="btn">‚Üê Back to home</a>
        </nav>

        <h2>Neuro Content FTP Server</h2>
        <p class="hint">
            Browsers do not support FTP due to security concerns. To access Neuro content, please use an FTP client.
        </p>

        <div id="client-expanders" class="grid" aria-label="FTP client setup"></div>


        <footer>
            <div class="footer-content">
                <span id="foot"></span>
                <div class="footer-disclaimer">
                    Unaffiliated with vedal987 and/or the vedal.ai organization.
                </div>
            </div>
            <div class="footer-attribution">
                <div><br>Site by <a href="https://github.com/afunyun/neuros-click">afunyun</a></div>
            </div>
        </footer>
    </div>
    <script type="module">
        /* These can be included up in the head if the path is known and fixed, but for this page it needs to be dynamic while on GH Pages because microsoft hates me. Literally this entire module is not needed if not on GH pages deployment.

        <link rel="stylesheet" href="../assets/css/styles.css" />
        <link rel="preload" href="../assets/fonts/First Coffee.woff2" as="font" type="font/woff2" crossorigin>
        <link rel="preload" href="../assets/json/site.json" as="fetch" crossorigin>
        <link rel="preload" href="../assets/json/neuro-ftp-clients.json" as="fetch" crossorigin>
        */
        function getBasePath() {
            const pathname = window.location.pathname;
            const segments = pathname.replace(/\/$/, '').split('/').filter(Boolean);

            // i hate github pages
            if (window.location.hostname.includes('github.io')) {
                if (segments[0] === 'neuros-click') {
                    return '/neuros-click/';
                }
            }

            if (segments.length <= 1) {
                return './';
            }

            const depth = segments.length - 1;
            return '../'.repeat(depth);
        }

        const basePath = getBasePath();
        console.log('Current pathname:', window.location.pathname);
        console.log('Calculated basePath:', basePath);
        console.log('JS path will be:', basePath + 'assets/js/index.js');

        const favicon = document.createElement('link');
        favicon.rel = 'icon';
        favicon.type = 'image/png';
        favicon.href = basePath + 'favicon.ico';
        document.head.appendChild(favicon);

        const fontPreload = document.createElement('link');
        fontPreload.rel = 'preload';
        fontPreload.href = basePath + 'assets/fonts/First Coffee.woff2';
        fontPreload.as = 'font';
        fontPreload.type = 'font/woff2';
        fontPreload.crossOrigin = 'anonymous';
        document.head.appendChild(fontPreload);

        const link = document.createElement('link');
        link.rel = 'stylesheet';
        link.href = basePath + 'assets/css/styles.css';
        document.head.appendChild(link);

        const script = document.createElement('script');
        script.type = 'module';
        script.src = basePath + 'assets/js/index.js';
        script.onerror = function (e) {
            console.error('Failed to load script:', e);
            console.error('Attempted path:', script.src);
            const fallbackScript = document.createElement('script');
            fallbackScript.type = 'module';
            fallbackScript.src = '/neuros-click/assets/js/index.js';
            document.head.appendChild(fallbackScript);
        };
        document.head.appendChild(script);
    </script>
</body>

</html>